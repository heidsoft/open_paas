function add_system(d,e,a){$(".add-system").bind("click",function(){var d=dialog({id:"add_system_dialog",title:"添加新组件系统",content:$("#system-add-tmpl"),width:800,fixed:!0});d.showModal()}),$("#add_system_btn").bind("click",function(){var t=!0;if($("#system-add-tmpl").find("#id_name").val())$("#system-add-tmpl").find(".form-group").eq(0).removeClass("has-error"),$("#system-add-tmpl").find("#tip_name").empty(),t=!0;else{$("#system-add-tmpl").find(".form-group").eq(0).addClass("has-error");var s=$("#system-add-tmpl").find("#id_name").next();$("#system-add-tmpl").find("#tip_name").empty(),s.after('<span id="tip_name" class="tips error">这个字段是必填项。</span>'),t=!1}if($("#system-add-tmpl").find("#id_label").val())$("#system-add-tmpl").find(".form-group").eq(1).removeClass("has-error"),$("#system-add-tmpl").find("#tip_label").empty(),t=!0;else{$("#system-add-tmpl").find(".form-group").eq(1).addClass("has-error");var i=$("#system-add-tmpl").find("#id_label").next();$("#system-add-tmpl").find("#tip_label").empty(),i.after('<span id="tip_label" class="tips error">这个字段是必填项。</span>'),t=!1}return!!t&&(data={csrfmiddlewaretoken:e,name:$("#system-add-tmpl").find("#id_name").val(),label:$("#system-add-tmpl").find("#id_label").val(),interface_admin:$("#system-add-tmpl").find("#id_interface_admin").val(),remark:$("#system-add-tmpl").find("#id_remark").val()},void $.post(d,data,function(d){dialog.get("add_system_dialog").close().remove(),$("#system-add-tmpl").find("form")[0].reset(),d.result?(art.dialog({id:"bktips",icon:"succeed",lock:!0,content:"系统创建成功"}).time(1),a.append('<option value="'+d.data.id+'">'+d.data.name+"</option>"),a.find('option[value="'+d.data.id+'"]').attr("selected",!0),a.change()):art.dialog({id:"bktips",icon:"error",lock:!0,content:"系统创建失败: "+d.error_message})},"json"))}),$("#cancel_system_btn").bind("click",function(){dialog.get("add_system_dialog").close().remove(),$("#system-add-tmpl").find("form")[0].reset()})}